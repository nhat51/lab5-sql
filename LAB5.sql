CREATE DATABASE LAB5
DROP DATABASE LAB5
USE LAB5
GO
CREATE TABLE PhongBan(
MaPB VARCHAR(7) PRIMARY KEY NOT NULL,
TenPB NVARCHAR(50) NOT NULL
)
DROP TABLE PhongBan
INSERT INTO PhongBan VALUES ('T2004M',N'Phòng Điều  Hành')
INSERT INTO PhongBan VALUES ('T2205M',N'Phòng Tài Vụ')
INSERT INTO PhongBan VALUES ('T2234M',N'Tổ Bảo Vệ')
INSERT INTO PhongBan VALUES ('T3345M',N'Tổ Lao Công')
SELECT * FROM PhongBan

CREATE TABLE NhanVien(
MaNV VARCHAR(7) PRIMARY KEY NOT NULL,
TenNV NVARCHAR(50) NOT NULL,
NgaySinh DATETIME CHECK (NgaySinh < GETDATE()),
SoCMND CHAR(15),
CONSTRAINT chk_CMND CHECK (SoCMND LIKE '[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]'),
GioiTinh CHAR(1),
CONSTRAINT chk_gioitinh CHECK (GioiTinh IN ('M','F')),
DiaChi NVARCHAR(20) ,
NgayVaoLam DATETIME CHECK (NgayVaoLam > YEAR(1999) ),
)
DROP TABLE NhanVien
GO
INSERT INTO NhanVien VALUES('001',N'Nguyễn Quang Nhật','2001-01-05','001201006092','M',N'Hà Nội','2020-07-08')
INSERT INTO NhanVien VALUES('002',N'Thất Vũ Hải','1998-04-03','957748483913','M',N'Hà Nội','2020-06-07')
INSERT INTO NhanVien VALUES('003',N'Lục Đại Môn Phái','1997-02-14','958342174532','M',N'Hà Nội','2019-04-25')
INSERT INTO NhanVien VALUES('004',N'Lại Thị Liên','1997-05-24','958473628319','F',N'Hải Phòng','2017-02-19')
INSERT INTO NhanVien VALUES('005',N'Hoàng Thu Hà','1996-06-23','958473652191','F',N'Hải Phòng','2018-08-12')
SELECT * FROM NhanVien
CREATE TABLE LuongDA(
MaDA VARCHAR(8) PRIMARY KEY NOT NULL,
CodeNV VARCHAR(7) NOT NULL,
NgayNhan DATETIME  NOT NULL,
SoTien MONEY CHECK (SoTien > 0),
CONSTRAINT FK FOREIGN KEY (CodeNV) REFERENCES NhanVien(MaNV),
)
DROP TABLE LuongDA
GO
INSERT INTO LuongDA VALUES('123','001','2020-08-05',20000) 